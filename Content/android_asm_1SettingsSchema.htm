<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us"
      data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../"
      data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false"
      data-mc-in-preview-mode="false"
      data-mc-toc-path="Getting Started with MokiManage on Android|ASM Programming Guide">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Creating the Settings Schema</title>
    <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet"/>
    <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet"/>
    <link href="Resources/mm.css" rel="stylesheet"/>
    <script src="../Resources/Scripts/jquery.min.js">
    </script>
    <script src="../Resources/Scripts/plugins.min.js">
    </script>
    <script src="../Resources/Scripts/require.min.js">
    </script>
    <script src="../Resources/Scripts/require.config.js">
    </script>
    <script src="../Resources/Scripts/MadCapAll.js">
    </script>
</head>
<body>
<p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../index.htm#android_asm_1SettingsSchema.htm">Open
    topic with navigation</a>
</p>

<div class="main">
<h1>Creating the Settings Schema</h1>

<p>Defining a settings schema for your app is the first step to take when implementing ASM. The settings schema defines
    what settings values you want to expose and determines the relationship between those settings. </p>

<p>The settings schema is expressed in a JSON file, which you will include with your app. Your <span class="attribute">SettingsSchema.json</span>
    file begins by declaring its version and groups. As you work on your <span
            class="attribute">SettingsSchema.json</span> file, use <a href="http://pro.jsonlint.com/" target="_blank">pro.jsonlint.com</a>
    to check and correct the syntax of your file. The API does not check for valid JSON, but does log errors so that you
    can know where something went wrong.</p>

<p>We will use example values to illustrate how each control should be defined. Replace these values with your
    application's values.</p>

<h2>Groups</h2>

<p>We will create three groups to start our SettingsSchema: General, Home Screen, and Screensaver.</p><pre xml:space="preserve">{
    "Version": 1,
    "Groups": [
	{
	    "Title": <span class="string">"General"</span>,
	    "Settings": [ ]
	},
	{
	    "Title": <span class="string">"Home Screen"</span>,
	    "Settings": [ ]
	},
	{
	    "Title": <span class="string">"Screensaver"</span>,
	    "Settings": [ ]
	}
    ]
}</pre>
<p>The image below is the UI output for your schema in iOS. Additional coding is required for the menu bar at the
    top:</p>

<p>
    <img src="Images/ASM/Groups_286x157.png" style="width: 286;height: 157;"
         data-mc-conditions="Default.iOSOnly,Default.AndroidOnly"/>
</p>

<h2>Header</h2>

<p>Next, we will add a header to the “Home Screen” group.</p><pre xml:space="preserve">{
    "Version": 1,
    "Groups": [
	{
	    "Title": <span class="string">"General"</span>,
	    "Settings": [ ]
	},
	{
	    "Title": <span class="string">"Home Screen"</span>,
	    "Settings": [
	 	<i>{
		    <span class="green">"Type":</span> <span class="string">"Header"</span><span class="green">,</span>
		    <span class="green">"Title":</span> <span class="string">"Select Content to Display"</span>
		}</i> 
	     ]
	},
	{
	    "Title": <span class="string">"Screensaver"</span>,
	    "Settings": [ ]
	}
    ]
}</pre>
<p>This is what that code will now look like in the app. Please note that additional coding is required for the menu to
    be highlighted when selected:</p>

<p>
    <img src="Images/ASM/header1-1024x301_411x120.png" style="width: 411;height: 120;"
         data-mc-conditions="Default.iOSOnly,Default.AndroidOnly"/>
</p>

<h2>Pane</h2>

<p>A pane provides a way of nesting additional settings, or having additional options for a specific setting. Because a
    pane is a secondary level of organization we will show the pane control organizer underneath the ComboBox Controls
    section below.</p>

<h2>List</h2>

<p>A list is a type of control, but since a list contains additional controls it can also be classified as a Control
    Organizer. We will demonstrate a list in the List Controls section below.</p>

<h2>Controls</h2>

<p>Controls are where you will start to define what is displayed in the app.</p>

<h3>TextField</h3>

<p>In this example, we are going to add a TextField to the “Home Screen” group. With the optional class "Value" added,
    dots will display instead of text.</p><pre xml:space="preserve">{
    "Version": 1,
    "Groups": [
	{
	    "Title": <span class="string">"General"</span>,
	    "Settings": [ ]
	},
	{
	    "Title": <span class="string">"Home Screen"</span>,
	    "Settings": [
	 	{
		    "Type": <span class="string">"Header"</span><span class="green">,</span>
		    "Title": <span class="string">"Select Content to Display"</span>
		}<span class="green">,</span>
		<i><b><span class="green">{</span>
		    <span class="green">"Type":</span> <span class="string">"TextField"</span><span class="green">,</span>
		    <span class="green">"Title":</span> <span class="string">"Admin Password"</span><span class="green">,</span>
		    <span class="green">"Value":</span> <span class="string">""</span><span class="green">,</span>
		    <span class="green">"Class":</span> <span class="green">[</span><span class="string">"Password"</span><span class="green">],</span>
		    <span class="green">"Key":</span> <span class="string">"adminPassword"</span>
		<span class="green">}</span></b></i>
 
	     ]
	},
	{
	    "Title": <span class="string">"Screensaver"</span>,
	    "Settings": [ ]
	}
    ]
}</pre>
<p>
    <img src="Images/ASM/TextField-1024x175_631x107.png" style="width: 631;height: 107;"
         data-mc-conditions="Default.iOSOnly,Default.AndroidOnly"/>
</p>

<h3>ToggleSwitch</h3>

<p>We will now add a ToggleSwitch to the “Home Screen” group that will allow them to show/hide the progress
    indicator.</p><pre xml:space="preserve">{
    "Version": 1,
    "Groups": [
	{
	    "Title": <span class="string">"General"</span>,
	    "Settings": [ ]
	},
	{
	    "Title": <span class="string">"Home Screen"</span>,
	    "Settings": [
	 	{
		    "Type": <span class="string">"Header"</span><span class="green">,</span>
		    "Title": <span class="string">"Select Content to Display"</span>
		},
		{
		    "Type": <span class="string">"TextField"</span><span class="green">,</span>
		    "Title": <span class="string">"Admin Password"</span><span class="green">,</span>
		    "Value": <span class="string">""</span><span class="green">,</span>
		    "Class": <span class="green">[</span><span class="string">"Password"</span><span class="green">],</span>
		    "Key": <span class="string">"adminPassword"</span>
		}<i><b><span class="green">,</span>
		<span class="green">{</span>
		    <span class="green">"Type": <span class="string">"ToggleSwitch"</span>,</span>
		    <span class="green">"Title": <span class="string">"Progress Indicator"</span>,</span>
		    <span class="green">"Value": <span class="light_purple">true</span>,</span>
		    <span class="green">"Key": <span class="string">"progressIndicator"</span></span>
		}</b></i>
 
	     ]
	},
	{
	    "Title": <span class="string">"Screensaver"</span>,
	    "Settings": [ ]
	}
    ]
}</pre>
<p>This is what that code will look like in the app settings view:</p>

<p>
    <img src="Images/ASM/ToggleSwitch-1024x176_631x107.png" style="width: 631;height: 107;"
         data-mc-conditions="Default.iOSOnly,Default.AndroidOnly"/>
</p>

<h3>ComboBox</h3>

<p>We will add a ComboBox to the “Home Screen” group to have the device reset itself if idle for one or two minutes. We
    will set the default value at 2 minutes.</p><pre xml:space="preserve">{
    "Version": 1,
    "Groups": [
	{
	    "Title": <span class="string">"General"</span>,
	    "Settings": [ ]
	},
	{
	    "Title": <span class="string">"Home Screen"</span>,
	    "Settings": [
	 	{
		    "Type": <span class="string">"Header"</span><span class="green">,</span>
		    "Title": <span class="string">"Select Content to Display"</span>
		},
		{
		    "Type": <span class="string">"TextField"</span><span class="green">,</span>
		    "Title": <span class="string">"Admin Password"</span><span class="green">,</span>
		    "Value": <span class="string">""</span><span class="green">,</span>
		    "Class": <span class="green">[</span><span class="string">"Password"</span><span class="green">],</span>
		    "Key": <span class="string">"adminPassword"</span>
		},
		{
		    "Type": <span class="string">"ToggleSwitch"</span>,
		    "Title": <span class="string">"Progress Indicator"</span>,
		    "Value": <span class="light_purple">true</span>,
		    "Key": <span class="string">"progressIndicator"</span>
		}<i><b><span class="green">,
		{
		    "Type": <span class="string">"ComboBox"</span>,
		    "Title": <span class="string">"Idle Reset Time"</span>,
		    "Class" : [<span class="string">"Single"</span>],
		    "Value": <span class="string">"2"</span>,
		    "Options": [
			{
			    "Title": <span class="string">"1 Minute"</span>,
			    "Value": <span class="string">"1"</span>
			},
			{
			    "Title": <span class="string">"2 Minutes"</span>,
			    "Value": <span class="string">"2"</span>
			}
		    ],
		    "Key": <span class="string">"duration"</span>
		}</span></b></i>
 
	     ]
	},
	{
	    "Title": <span class="string">"Screensaver"</span>,
	    "Settings": [ ]
	}
    ]
}</pre>
<p>This is what that code will look like in the app settings view:</p>

<p>
    <img src="Images/ASM/ComboBox-1024x218_631x130.png" style="width: 631;height: 130;"
         data-mc-conditions="Default.iOSOnly,Default.AndroidOnly"/>
</p>

<p>Touching the Idle Reset Time will open the options menu as seen below:</p>

<p>
    <img src="Images/ASM/ComboBox2-1024x132_631x79.png" style="width: 631;height: 79;"
         data-mc-conditions="Default.iOSOnly,Default.AndroidOnly"/>
</p>

<h3>Pane</h3>

<p>We will add a pane to the “Home Screen” group and underneath the “ComboBox” section. The pane will have additional
    settings such as a “TextField” for the URL and a “ToggleSwitch” to have the option of caching the video on the
    tablet.</p><pre xml:space="preserve">{
    "Version": 1,
    "Groups": [
	{
	    "Title": <span class="string">"General"</span>,
	    "Settings": [ ]
	},
	{
	    "Title": <span class="string">"Home Screen"</span>,
	    "Settings": [
	 	{
		    "Type": <span class="string">"Header"</span><span class="green">,</span>
		    "Title": <span class="string">"Select Content to Display"</span>
		},
		{
		    "Type": <span class="string">"TextField"</span><span class="green">,</span>
		    "Title": <span class="string">"Admin Password"</span><span class="green">,</span>
		    "Value": <span class="string">""</span><span class="green">,</span>
		    "Class": <span class="green">[</span><span class="string">"Password"</span><span class="green">],</span>
		    "Key": <span class="string">"adminPassword"</span>
		},
		{
		    "Type": <span class="string">"ToggleSwitch"</span>,
		    "Title": <span class="string">"Progress Indicator"</span>,
		    "Value": <span class="light_purple">true</span>,
		    "Key": <span class="string">"progressIndicator"</span>
		},
		{
		    "Type": <span class="string">"ComboBox"</span>,
		    "Title": <span class="string">"Idle Reset Time"</span>,
		    "Class" : [<span class="string">"Single"</span>],
		    "Value": <span class="string">"2"</span>,
		    "Options": [
			{
			    "Title": <span class="string">"1 Minute"</span>,
			    "Value": <span class="string">"1"</span>
			},
			{
			    "Title": <span class="string">"2 Minutes"</span>,
			    "Value": <span class="string">"2"</span>
			}
		    ],
		    "Key": <span class="string">"duration"</span>
		}<i><b><span class="green">,
		{
		    "Type": <span class="string">"Pane"</span>,
		    "Title": <span class="string">"Media Settings"</span>,
		    "Settings": [
			{
			    "Type": <span class="string">"TextField"</span>,
			    "Title": <span class="string">"Media URL:"</span>,
			    "Value": <span class="string">""</span>,
			    "Key": <span class="string">"mediaUrl"</span>
			},
			{
			    "Type": <span class="string">"ToggleSwitch"</span>,
			    "Title": <span class="string">"Cache media on the tablet"</span>,
			    "Value": <span class="light_purple">false</span>,
			    "Key": <span class="string">"cacheKey"</span>
			}
		    ]
		}</span></b></i>
 
	     ]
	},
	{
	    "Title": <span class="string">"Screensaver"</span>,
	    "Settings": [ ]
	}
    ]
}</pre>
<p>This is what that code will look like in the app settings view:</p>

<p>
    <img src="Images/ASM/Pane-1024x261_631x159.png" style="width: 631;height: 159;"
         data-mc-conditions="Default.iOSOnly,Default.AndroidOnly"/>
</p>

<p>When the Media Settings is selected, this is what that code will look like in the app settings view:</p>

<p>
    <img src="Images/ASM/Pane2-1024x175_631x108.png" style="width: 631;height: 108;"
         data-mc-conditions="Default.iOSOnly,Default.AndroidOnly"/>
</p>

<h3>List</h3>

<p>We will add a list to the “Screensaver” group and create the settings for the screensaver.</p><pre xml:space="preserve">{
    "Version": 1,
    "Groups": [
	{
	    "Title": <span class="string">"General"</span>,
	    "Settings": [ ]
	},
	{
	    "Title": <span class="string">"Home Screen"</span>,
	    "Settings": [
	 	{
		    "Type": <span class="string">"Header"</span><span class="green">,</span>
		    "Title": <span class="string">"Select Content to Display"</span>
		},
		{
		    "Type": <span class="string">"TextField"</span><span class="green">,</span>
		    "Title": <span class="string">"Admin Password"</span><span class="green">,</span>
		    "Value": <span class="string">""</span><span class="green">,</span>
		    "Class": <span class="green">[</span><span class="string">"Password"</span><span class="green">],</span>
		    "Key": <span class="string">"adminPassword"</span>
		},
		{
		    "Type": <span class="string">"ToggleSwitch"</span>,
		    "Title": <span class="string">"Progress Indicator"</span>,
		    "Value": <span class="light_purple">true</span>,
		    "Key": <span class="string">"progressIndicator"</span>
		},
		{
		    "Type": <span class="string">"ComboBox"</span>,
		    "Title": <span class="string">"Idle Reset Time"</span>,
		    "Class" : [<span class="string">"Single"</span>],
		    "Value": <span class="string">"2"</span>,
		    "Options": [
			{
			    "Title": <span class="string">"1 Minute"</span>,
			    "Value": <span class="string">"1"</span>
			},
			{
			    "Title": <span class="string">"2 Minutes"</span>,
			    "Value": <span class="string">"2"</span>
			}
		    ],
		    "Key": <span class="string">"duration"</span>
		},
		{
		    "Type": <span class="string">"Pane"</span>,
		    "Title": <span class="string">"Media Settings"</span>,
		    "Settings": [
			{
			    "Type": <span class="string">"TextField"</span>,
			    "Title": <span class="string">"Media URL:"</span>,
			    "Value": <span class="string">""</span>,
			    "Key": <span class="string">"mediaUrl"</span>
			},
			{
			    "Type": <span class="string">"ToggleSwitch"</span>,
			    "Title": <span class="string">"Cache media on the tablet"</span>,
			    "Value": <span class="light_purple">false</span>,
			    "Key": <span class="string">"cacheKey"</span>
			}
		    ]
		}
 
	     ]
	},
	{
	    "Title": <span class="string">"Screensaver"</span>,
	    "Settings": [
		<i><b><span class="green">{
		    "Type": <span class="string">"List"</span>,
		    "Title": <span class="string">"Settings"</span>,
		    "Key": <span class="string">"screesaverPlaylist"</span>,
		    "ItemTemplate": [
			{
			    "Type": <span class="string">"TextField"</span>,
			    "Title": <span class="string">"Content"</span>,
			    "Value": <span class="string">""</span>,
			    "Placeholder": <span class="string">"http://"</span>,
			    "Key": <span class="string">"content"</span>
			},
			{
			    "Type": <span class="string">"ToggleSwitch"</span>,
			    "Title": <span class="string">"Cache"</span>,
			    "Value": <span class="light_purple">false</span>,
			    "Key": <span class="string">"cacheKey"</span>
			},
			{
			    "Type": <span class="string">"TextField"</span>,
			    "Title": <span class="string">"Duration (seconds for image to be displayed)"</span>,
			    "Value": <span class="string">""</span>,
			    "Key": <span class="string">"duration"</span>
			}
		]
	    }</span></b></i> 
  	  ]
      }
   ]
}</pre>
<p>This is what that code will look like in the app settings view:</p>

<p>
    <img src="Images/ASM/image1-1024x174_631x106.png" style="width: 631;height: 106;"
         data-mc-conditions="Default.iOSOnly,Default.AndroidOnly"/>
</p>

<p>This is the list control/control organizer. You will notice that the Cache ToggleSwitch just says “no.” This is
    because we decided to make these items only editable from the MokiManage.com console.</p>

<p>
    <img src="Images/ASM/ListControl1-1024x211_631x129.jpg" style="width: 631;height: 129;"
         data-mc-conditions="Default.iOSOnly,Default.AndroidOnly"/>
</p>
<hr style="color: #c0c0c0;" width="100%" size="0" align="center"/>

</div>
</body>
</html>